(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"ca+A":function(e,t,a){"use strict";var o=a("d1oT"),i=a("jjCA"),n=a("H2Yf"),s=a("X6V6"),r=a("wDej"),c=a("M43K"),l=a("CLwi"),h=a("VOIc"),_=a("tSf6"),d=a("wm/w"),p=a("/AXe"),u=a("s+Ag"),y=a("JzTp"),b=a("xv0o"),g=a("IZAX"),m=a("Zxrr"),v=a("YgOR"),w=a("FwEa"),f=a("lEL9"),k=a("cTFs"),x=a("NcAV"),R=a("QEOS"),C=a("1VoJ"),O=a("i0Wr"),j=a("Jadx"),z=a("PrL9"),M=a("kIC3"),I=a("Hw5F"),T=a("we05"),A=a("Wi8B"),D=a("s3HQ"),F=a("yGE1"),S=a("RlTL"),E=a("ykvk"),Y=a("9TU5"),H=a("WseT"),X=a("aPHG"),Z=a("SxaR"),L=a("Jpha"),W=a("lADo"),K=a("oaZ6"),P=a("W1P7"),B=a("XB9z"),U=a("pHUy"),q=a("wrKg"),N=a("BexJ"),J=a("TiLo"),V=a("iRKS"),G=a("AdsA"),Q=a("s6dP"),$=a("aVYC"),ee=a("eEtT"),te=a("TXW2"),ae=a("KgER"),oe=a("8ase"),ie=a("E4fC"),ne=a("6HRi"),se=a("NP7J"),re=a("KwnK"),ce=a("GdS7"),le=a("tpUQ"),he=a("RtdD"),_e=a("KOta"),de=a("abps"),pe=a("9anE"),ue=a("RGVe"),ye=a("NGCC"),be=a("IOC1"),ge=a("397Q"),me=a("/6Tv"),ve=a("dXl5"),we=a("s6sG"),fe=a("SBrq"),ke=a("seP7"),xe=a("gsow"),Re=a("Mrdp"),Ce=a("z+oI"),Oe=a("WNfj"),je=a("4Eb+"),ze=a("PnV1"),Me=a("GtDa"),Ie=a("BxSf"),Te=a("mB16"),Ae=a("igUi"),De=a("bnIV"),Fe=a("C7lN"),Se=a("dx39"),Ee=a("gkur"),Ye=a("4ZJt"),He=a("bCeV"),Xe=a("PBnT"),Ze=a("ZAq0"),Le=a("jT7b"),We=a("RPKJ"),Ke=a("7eAk"),Pe=a("5HZI"),Be=a("M4xE"),Ue=a("8Erb"),qe=a("t0Kz"),Ne=a("eVvN"),Je=a("ZFnB"),Ve=a("qyNx"),Ge=a("Z3cN"),Qe=a("ttua"),$e=a("tGuw"),et=a("68Wx"),tt=a.n(et),at=a("WHtb"),ot=a.n(at),it=a("RboX"),nt=a("hrCq"),st=a("4YPT"),rt=a("dcS0"),ct=a("41qg"),lt=a("Mmap"),ht=a("znIo"),_t=a("wj63"),dt=a("/OZd"),pt=a("Ix/w"),ut=a("HjAP"),yt=a("MdBA"),bt=a("zURX"),gt=a("PyZM"),mt=a("COSP"),vt=a("372a"),wt=a("yubY"),ft=a("rUTO"),kt=a("Vj0n"),xt=a("cHOo"),Rt=a("sbFj"),Ct=a("s/Pe"),Ot=a("w2Z+"),jt=a("suML"),zt=a("U7KV"),Mt=a("seO+"),It=a("NM9v"),Tt=a("1Thd"),At=a("+EHN"),Dt=a("HCdk"),Ft=a("oK1H"),St=a("XcX/"),Et=a("v51b"),Yt=a("BwaQ"),Ht=a("11RJ"),Xt=a("WRUO"),Zt=a("KrSA"),Lt=a("cSm8"),Wt=a("z0GC"),Kt=a("QFPG"),Pt=a("zhBR"),Bt=a("KgCI"),Ut=a("K7eK"),qt=a("SCJ5"),Nt=a("n6yK"),Jt=a("pGdT"),Vt=a("sxf8"),Gt=a("VR7A"),Qt=a("o7do"),$t=a("Oz2H"),ea=a("q870"),ta=a("+FH7"),aa=a("8hiS"),oa=a("Tmbd"),ia=a("k6tN"),na=a("B+1a"),sa=a("+t2e"),ra=a("Hg5X"),ca=a("KDZx"),la=a("HdOf"),ha=a("ZRN5"),_a=a("m20R"),da=a("pQkJ"),pa=a("1k5l"),ua=a("9yf7"),ya=a("+qim"),ba=a("Wx7E"),ga=a("uJZ4"),ma=a("4hIU"),va=a("wWkx"),wa=a("NhzW"),fa=a("2dO2"),ka=a("iCNk"),xa=a("yP2k"),Ra=a("WVpX"),Ca=a("xsiI"),Oa=a("dQgu"),ja=a("E1eW"),za=a("q2nQ"),Ma=a("C5p/"),Ia=a("zd0z"),Ta=a("Ou00"),Aa=a("BxCu"),Da=a("tC3m"),Fa=a("b5gS"),Sa=a("X7PB"),Ea=a("XYzE"),Ya=a("1BGM"),Ha=a("heyg"),Xa=a("S5yf"),Za=a("vCq8"),La=a("/26a"),Wa=a("/FtL"),Ka=a.n(Wa),Pa=a("ukH4"),Ba=a.n(Pa),Ua=a("JuND"),qa=a("GkZe"),Na=a("+eLg"),Ja=a("Jd5x"),Va=a("T7RU"),Ga=a("pQcT"),Qa=a("eMsM"),$a=a("Oxv4"),eo=a("7j5O"),to=a("hscF"),ao=a("XzCZ"),oo=a("rlYX"),io=a("mGtt"),no=a("3kYJ"),so=a("W+7r"),ro=a("QNun"),co=a("kQ/5"),lo=a("I4u/"),ho=a("ijQk"),_o=a("66X4"),po=a("LLqA"),uo=a("xrb7"),yo=a("/tbr"),bo=a("FEMs"),go=a("Ch5v"),mo=a("ijHI"),vo=a("FofO"),wo=a("fDkZ"),fo=a("K5ay"),ko=a("hv7o"),xo=a("l3fh"),Ro=a("A5db"),Co=a("Ym1t"),Oo=a("CSfy"),jo=a("dX4m"),zo=a("MrrX"),Mo=a("6sHx"),Io=a("S9HU"),To=a("r/Ne"),Ao=a("BBAL"),Do=a("kzvb"),Fo=a("/mBj"),So=a("v8Dj"),Eo=a("u+tP"),Yo=a("UEFi"),Ho=a("e4bV"),Xo=a("rU85"),Zo=a("Xahe"),Lo=a("v2BT"),Wo=a("6PXu"),Ko=a("kOmi"),Po=a("2NsE"),Bo=a("zSF6"),Uo=a("YL96"),qo=a("SCIv"),No=a("SPQ9"),Jo=a("FMZK"),Vo=a.n(Jo),Go=a("OSlP"),Qo=a("jwB4"),$o=a("Oijx"),ei=a("y/3z"),ti=a("nTy4"),ai=a("qmOX"),oi=a("uYzB"),ii=a("3YiQ"),ni=a("vQ/c"),si=a("OeCj"),ri=a("+UMZ"),ci=a("Wwm4"),li=a("hGBT"),hi=a("gEqo"),_i=a("RHlm"),di=a("7tKI"),pi=a("wjf9"),ui=a("a5Vu"),yi=a("UWM6"),bi=a("WhHj"),gi=a("oBLC"),mi=a("UOWC"),vi=a("itW0"),wi=a("1uvR"),fi=a("jLod"),ki=a("irNa"),xi=a("r1D+"),Ri=a("Z4nv"),Ci=a("lwMo"),Oi=a("aDbL"),ji=a("s9xL"),zi=a("TctP"),Mi=a("UlYu"),Ii=a("p5fM"),Ti=a("Gzr9"),Ai=a("E23e"),Di=a("haOH"),Fi=a("W7CY"),Si=a("GZX0"),Ei=a("xjne"),Yi=a("sb5T"),Hi=a("ssW6"),Xi=a("h/kd"),Zi=a("Qbho"),Li=a("Yp/r"),Wi=a("c8ZD"),Ki=a("zhPu"),Pi=a("AebV"),Bi=a("c+7H"),Ui=a("KMo2"),qi=a("ww/t"),Ni=a("fA5/"),Ji=a("LtHC"),Vi=a("0GrB"),Gi=a("ykn/"),Qi=a("q+9T"),$i=a("beZQ"),en=a("nMGV"),tn=a("PIlp"),an=a("ApcY"),on=a("dW0/"),nn=a("LUrw"),sn=a("8V5h"),rn=a("kzTR"),cn=a("fK3g"),ln=a("7pf1"),hn=a("ayw8"),_n=a("6RmM"),dn=a("AVro"),pn=a("YoRY"),un=a("iXUr"),yn=a("NHym"),bn=a.n(yn),gn=a("8ZoP"),mn=a.n(gn),vn=a("SDl7"),wn=a("FTs0"),fn=a("OXJr"),kn=a("jnhn"),xn=a("/YVQ"),Rn=a("cR9h"),Cn=a("x4Ox"),On=a("rW40"),jn=a("KXfq"),zn=a("4fmG"),Mn=a("nX7I"),In=a("y93b"),Tn=a("61Bb"),An=a("lc2V"),Dn=a("CISj"),Fn=a("MeU4"),Sn=a("LYfj"),En=a("Dwxf"),Yn=a("Jy2z"),Hn=a("fxWY"),Xn=a("KxU5"),Zn=a("FkEi"),Ln=a("vGuZ"),Wn=a("4mty"),Kn=a("qcL4"),Pn=a("Qm33");t.a={test1:o.a,test2:i.a,test3:n.a,test4:s.a,test5:r.a,test6:c.a,anvil_base:l.a,anvil_top_damaged_0:h.a,anvil_top_damaged_1:_.a,anvil_top_damaged_2:d.a,atlas:p.a,beacon:u.a,bed_feet_end:y.a,bed_feet_side:b.a,bed_feet_top:g.a,bed_head_end:m.a,bed_head_side:v.a,bed_head_top:w.a,bedrock:f.a,bookshelf:k.a,brewing_stand:x.a,brewing_stand_base:R.a,brick:C.a,cactus_bottom:O.a,cactus_side:j.a,cactus_top:z.a,cake_bottom:M.a,cake_inner:I.a,cake_side:T.a,cake_top:A.a,carrots_stage_0:D.a,carrots_stage_1:F.a,carrots_stage_2:S.a,carrots_stage_3:E.a,cauldron_bottom:Y.a,cauldron_inner:H.a,cauldron_side:X.a,cauldron_top:Z.a,clay:L.a,coal_block:W.a,coal_ore:K.a,cobblestone:P.a,cobblestone_mossy:B.a,cocoa_stage_0:U.a,cocoa_stage_1:q.a,cocoa_stage_2:N.a,command_block:J.a,comparator_off:V.a,comparator_on:G.a,crafting_table_front:Q.a,crafting_table_side:$.a,crafting_table_top:ee.a,daylight_detector_side:te.a,daylight_detector_top:ae.a,deadbush:oe.a,destroy_stage_0:ie.a,destroy_stage_1:ne.a,destroy_stage_2:se.a,destroy_stage_3:re.a,destroy_stage_4:ce.a,destroy_stage_5:le.a,destroy_stage_6:he.a,destroy_stage_7:_e.a,destroy_stage_8:de.a,destroy_stage_9:pe.a,diamond_block:ue.a,diamond_ore:ye.a,dirt:be.a,dirt_podzol_side:ge.a,dirt_podzol_top:me.a,dispenser_front_horizontal:ve.a,dispenser_front_vertical:we.a,door_iron_lower:fe.a,door_iron_upper:ke.a,door_wood_lower:xe.a,door_wood_upper:Re.a,double_plant_fern_bottom:Ce.a,double_plant_fern_top:Oe.a,double_plant_grass_bottom:je.a,double_plant_grass_top:ze.a,double_plant_paeonia_bottom:Me.a,double_plant_paeonia_top:Ie.a,double_plant_rose_bottom:Te.a,double_plant_rose_top:Ae.a,double_plant_sunflower_back:De.a,double_plant_sunflower_bottom:Fe.a,double_plant_sunflower_front:Se.a,double_plant_sunflower_top:Ee.a,double_plant_syringa_bottom:Ye.a,double_plant_syringa_top:He.a,dragon_egg:Xe.a,dropper_front_horizontal:Ze.a,dropper_front_vertical:Le.a,emerald_block:We.a,emerald_ore:Ke.a,enchanting_table_bottom:Pe.a,enchanting_table_side:Be.a,enchanting_table_top:Ue.a,end_stone:qe.a,endframe_eye:Ne.a,endframe_side:Je.a,endframe_top:Ve.a,farmland_dry:Ge.a,farmland_wet:Qe.a,fern:$e.a,fire_layer_0:tt.a,fire_layer_1:ot.a,flower_allium:it.a,flower_blue_orchid:nt.a,flower_dandelion:st.a,flower_houstonia:rt.a,flower_oxeye_daisy:ct.a,flower_paeonia:lt.a,flower_pot:ht.a,flower_rose:_t.a,flower_tulip_orange:dt.a,flower_tulip_pink:pt.a,flower_tulip_red:ut.a,flower_tulip_white:yt.a,furnace_front_off:bt.a,furnace_front_on:gt.a,furnace_side:mt.a,furnace_top:vt.a,glass:wt.a,glass_black:ft.a,glass_blue:kt.a,glass_brown:xt.a,glass_cyan:Rt.a,glass_gray:Ct.a,glass_green:Ot.a,glass_light_blue:jt.a,glass_lime:zt.a,glass_magenta:Mt.a,glass_orange:It.a,glass_pane_top:Tt.a,glass_pane_top_black:At.a,glass_pane_top_blue:Dt.a,glass_pane_top_brown:Ft.a,glass_pane_top_cyan:St.a,glass_pane_top_gray:Et.a,glass_pane_top_green:Yt.a,glass_pane_top_light_blue:Ht.a,glass_pane_top_lime:Xt.a,glass_pane_top_magenta:Zt.a,glass_pane_top_orange:Lt.a,glass_pane_top_pink:Wt.a,glass_pane_top_purple:Kt.a,glass_pane_top_red:Pt.a,glass_pane_top_silver:Bt.a,glass_pane_top_white:Ut.a,glass_pane_top_yellow:qt.a,glass_pink:Nt.a,glass_purple:Jt.a,glass_red:Vt.a,glass_silver:Gt.a,glass_white:Qt.a,glass_yellow:$t.a,glowstone:ea.a,gold_block:ta.a,gold_ore:aa.a,grass_side:oa.a,grass_side_overlay:ia.a,grass_side_snowed:na.a,grass_top:sa.a,grass_top_green:ra.a,gravel:ca.a,hardened_clay:la.a,hardened_clay_stained_black:ha.a,hardened_clay_stained_blue:_a.a,hardened_clay_stained_brown:da.a,hardened_clay_stained_cyan:pa.a,hardened_clay_stained_gray:ua.a,hardened_clay_stained_green:ya.a,hardened_clay_stained_light_blue:ba.a,hardened_clay_stained_lime:ga.a,hardened_clay_stained_magenta:ma.a,hardened_clay_stained_orange:va.a,hardened_clay_stained_pink:wa.a,hardened_clay_stained_purple:fa.a,hardened_clay_stained_red:ka.a,hardened_clay_stained_silver:xa.a,hardened_clay_stained_white:Ra.a,hardened_clay_stained_yellow:Ca.a,hay_block_side:Oa.a,hay_block_top:ja.a,hopper_inside:za.a,hopper_outside:Ma.a,hopper_top:Ia.a,ice:Ta.a,ice_packed:Aa.a,iron_bars:Da.a,iron_block:Fa.a,iron_ore:Sa.a,itemframe_background:Ea.a,jukebox_side:Ya.a,jukebox_top:Ha.a,ladder:Xa.a,lapis_block:Za.a,lapis_ore:La.a,lava_flow:Ka.a,lava_still:Ba.a,leaves_acacia:Ua.a,leaves_acacia_opaque:qa.a,leaves_big_oak:Na.a,leaves_big_oak_opaque:Ja.a,leaves_birch:Va.a,leaves_birch_opaque:Ga.a,leaves_jungle:Qa.a,leaves_jungle_opaque:$a.a,leaves_oak:eo.a,leaves_oak_opaque:to.a,leaves_spruce:ao.a,leaves_spruce_opaque:oo.a,lever:io.a,log_acacia:no.a,log_acacia_top:so.a,log_big_oak:ro.a,log_big_oak_top:co.a,log_birch:lo.a,log_birch_top:ho.a,log_jungle:_o.a,log_jungle_top:po.a,log_oak:uo.a,log_oak_top:yo.a,log_spruce:bo.a,log_spruce_top:go.a,melon_side:mo.a,melon_stem_connected:vo.a,melon_stem_disconnected:wo.a,melon_top:fo.a,mob_spawner:ko.a,mushroom_block_inside:xo.a,mushroom_block_skin_brown:Ro.a,mushroom_block_skin_red:Co.a,mushroom_block_skin_stem:Oo.a,mushroom_brown:jo.a,mushroom_red:zo.a,mycelium_side:Mo.a,mycelium_top:Io.a,nether_brick:To.a,nether_wart_stage_0:Ao.a,nether_wart_stage_1:Do.a,nether_wart_stage_2:Fo.a,netherrack:So.a,noteblock:Eo.a,obsidian:Yo.a,piston_bottom:Ho.a,piston_inner:Xo.a,piston_side:Zo.a,piston_top_normal:Lo.a,piston_top_sticky:Wo.a,planks_acacia:Ko.a,planks_big_oak:Po.a,planks_birch:Bo.a,planks_jungle:Uo.a,planks_oak:qo.a,planks_spruce:No.a,portal:Vo.a,potatoes_stage_0:Go.a,potatoes_stage_1:Qo.a,potatoes_stage_2:$o.a,potatoes_stage_3:ei.a,pumpkin_face_off:ti.a,pumpkin_face_on:ai.a,pumpkin_side:oi.a,pumpkin_stem_connected:ii.a,pumpkin_stem_disconnected:ni.a,pumpkin_top:si.a,quartz_block_bottom:ri.a,quartz_block_chiseled:ci.a,quartz_block_chiseled_top:li.a,quartz_block_lines:hi.a,quartz_block_lines_top:_i.a,quartz_block_side:di.a,quartz_block_top:pi.a,quartz_ore:ui.a,rail_activator:yi.a,rail_activator_powered:bi.a,rail_detector:gi.a,rail_detector_powered:mi.a,rail_golden:vi.a,rail_golden_powered:wi.a,rail_normal:fi.a,rail_normal_turned:ki.a,red_sand:xi.a,redstone_block:Ri.a,redstone_dust_cross:Ci.a,redstone_dust_cross_overlay:Oi.a,redstone_dust_line:ji.a,redstone_dust_line_overlay:zi.a,redstone_lamp_off:Mi.a,redstone_lamp_on:Ii.a,redstone_ore:Ti.a,redstone_torch_off:Ai.a,redstone_torch_on:Di.a,reeds:Fi.a,repeater_off:Si.a,repeater_on:Ei.a,sand:Yi.a,sandstone_bottom:Hi.a,sandstone_carved:Xi.a,sandstone_normal:Zi.a,sandstone_smooth:Li.a,sandstone_top:Wi.a,sapling_acacia:Ki.a,sapling_birch:Pi.a,sapling_jungle:Bi.a,sapling_oak:Ui.a,sapling_roofed_oak:qi.a,sapling_spruce:Ni.a,snow:Ji.a,soul_sand:Vi.a,sponge:Gi.a,stone:Qi.a,stone_slab_side:$i.a,stone_slab_top:en.a,stonebrick:tn.a,stonebrick_carved:an.a,stonebrick_cracked:on.a,stonebrick_mossy:nn.a,tallgrass:sn.a,tnt_bottom:rn.a,tnt_side:cn.a,tnt_top:ln.a,torch_on:hn.a,trapdoor:_n.a,trip_wire:dn.a,trip_wire_source:pn.a,vine:un.a,water_flow:bn.a,water_still:mn.a,waterlily:vn.a,web:wn.a,wheat_stage_0:fn.a,wheat_stage_1:kn.a,wheat_stage_2:xn.a,wheat_stage_3:Rn.a,wheat_stage_4:Cn.a,wheat_stage_5:On.a,wheat_stage_6:jn.a,wheat_stage_7:zn.a,wool_colored_black:Mn.a,wool_colored_blue:In.a,wool_colored_brown:Tn.a,wool_colored_cyan:An.a,wool_colored_gray:Dn.a,wool_colored_green:Fn.a,wool_colored_light_blue:Sn.a,wool_colored_lime:En.a,wool_colored_magenta:Yn.a,wool_colored_orange:Hn.a,wool_colored_pink:Xn.a,wool_colored_purple:Zn.a,wool_colored_red:Ln.a,wool_colored_silver:Wn.a,wool_colored_white:Kn.a,wool_colored_yellow:Pn.a}},eWFw:function(e,t,a){"use strict";var o=a("lwsE"),i=a.n(o),n=a("W8MJ"),s=a.n(n),r=a("RyHr"),c=a("Womt"),l=function(){function e(t,a){return i()(this,e),this.camera=t,e._instance?e._instance:(this.controls=new r.a(t,a),this.controls.dampingFactor=1,this.controls.enablePan=!1,e._instance=this,e._instance)}return s()(e,[{key:"initClickFunction",value:function(e,t){var a=this;window.addEventListener("mousedown",(function(t){var o=function(e,t,a){var o=new c.u,i=new c.C;return i.x=e.clientX/window.innerWidth*2-1,i.y=-e.clientY/window.innerHeight*2+1,o.setFromCamera(i,a),o.intersectObjects(t)}(t,e,a.camera);if(o.length>0)o[0].object}),!1)}}]),e}();var h=a("sxfH"),_=a("RZpA"),d=a("n58R"),p=a("bQym");function u(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,r=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){r=!0,n=e},f:function(){try{s||null==a.return||a.return()}finally{if(r)throw n}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var b=function(){function e(t,a,o,n){return i()(this,e),e._instance?e._instance:(this.previewCube=void 0,this.camera=t,this.domElement=a,this.objects=o,this.objectsImpenetrable=void 0,this.scene=n,this.currentCubeTypeIndex=0,this.checkRay={X0:[],X1:[],Z0:[],Z1:[],Y0:[],Y1:[]},this.sightRay=new c.u,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.preRuning=void 0,this.isRunning=!1,this.canJump=!1,this.switchFly=void 0,this.canFly=!0,this.switchFlyKeyUped=!1,this.isFlying=!1,this.velocity=new c.D,this.direction=new c.D,this.worldOption={g:9},this.personOption={height:1.8,sightHeight:1.5,jumpHeight:1.3,speedWalk:5.7,speedRun:10,accelerateRateStart:.3,accelerateRateStop:.8,thickness:.6},this.initControl(),this.initMaskerForSightControl(),this.initAim(),this.initKeyboardFunction(),this.initMouseFunction(),this.selectObjectsImpenetrable(),e._instance=this,e._instance)}return s()(e,[{key:"update",value:function(e){e=e||.016,this.controls.isLocked||(this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.moveUp=!1,this.moveDown=!1),this.updateCameraPosition(e),this.updatePreviewCube(e)}},{key:"initControl",value:function(){this.controls=new h.a(this.camera,this.domElement)}},{key:"initMaskerForSightControl",value:function(){var e=this,t=document.createElement("div");t.style.position="absolute",t.style.zIndex="100",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.id="blocker",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",document.body.append(t),t.addEventListener("click",(function(){e.controls.lock()}),!1),this.controls.addEventListener("lock",(function(){t.style.display="none"})),this.controls.addEventListener("unlock",(function(){t.style.display="block"}))}},{key:"initAim",value:function(){var e=function(e){e.style.position="fixed",e.style.left="50%",e.style.top="50%",e.style.transform="translate(-50%,-50%)",e.style.zIndex="1",e.style.fontSize="100%",e.style.fontWeight="bold",e.style.textAlign="center",e.style.verticalAlign="middle",e.style.lineHeight="10px",e.style.fontFamily='"Times New Roman",serif',e.style.backgroundColor="#E0E0E0"},t=document.createElement("div");t.style.height="2px",t.style.width="20px",e(t),document.body.append(t);var a=document.createElement("div");a.style.height="20px",a.style.width="2px",e(a),document.body.append(a)}},{key:"initKeyboardFunction",value:function(){var e=this;document.addEventListener("keydown",(function(t){switch(t.keyCode){case 38:case 87:if(e.moveForward)break;e.preRuning?(e.isRunning=performance.now()-e.preRuning<=200,e.preRuning=performance.now()):e.preRuning=performance.now(),e.moveForward=!0;break;case 37:case 65:if(e.moveLeft)break;e.moveLeft=!0;break;case 40:case 83:if(e.moveBackward)break;e.moveBackward=!0;break;case 39:case 68:if(e.moveRight)break;e.moveRight=!0;break;case 32:if(!e.canJump&&e.switchFlyKeyUped&&(e.isFlying=e.canFly),e.canJump&&(e.velocity.y+=Math.sqrt(2*e.worldOption.g*7.74*e.personOption.jumpHeight)),e.canJump=!1,e.isFlying){if(e.switchFly?performance.now()-e.switchFly<=200&&(e.isFlying=!e.switchFlyKeyUped):e.switchFly=performance.now(),e.moveUp)break;e.moveUp=!0,e.switchFlyKeyUped=!1}e.switchFly=performance.now();break;case 16:if(e.moveDown)break;e.moveDown=!0}}),!1),document.addEventListener("keyup",(function(t){switch(t.keyCode){case 38:case 87:e.isRunning=!1,e.moveForward=!1;break;case 37:case 65:e.moveLeft=!1;break;case 40:case 83:e.moveBackward=!1;break;case 39:case 68:e.moveRight=!1;break;case 16:e.moveDown=!1;break;case 32:e.moveUp=!1,e.switchFlyKeyUped=!0}}),!1)}},{key:"initMouseFunction",value:function(){var e=this,t=function(t){t?(e.currentCubeTypeIndex++,e.currentCubeTypeIndex===Object.keys(d.a).length&&(e.currentCubeTypeIndex=0)):(0===e.currentCubeTypeIndex&&(e.currentCubeTypeIndex=Object.keys(d.a).length),e.currentCubeTypeIndex--)};window.addEventListener("mousedown",(function(t){e.sightRay.setFromCamera(new c.C(0,0),e.camera);var a=e.sightRay.intersectObjects(e.objects);if(a.length>0&&a[0]&&a[0].distance<=10&&a[0].face&&a[0].face.normal&&a[0].object&&a[0].object.position){if(0===t.button&&e.controls.isLocked)return void e.removeCube(a[0].object);if(2===t.button&&e.controls.isLocked)return void e.addCube(a[0])}}),!1),document.addEventListener&&document.addEventListener("DOMMouseScroll",(function(e){(e=e||window.event).wheelDelta?t(e.wheelDelta<0):e.detail&&t(e.detail<0)}),!1),window.onmousewheel=function(e){(e=e||window.event).wheelDelta?t(e.wheelDelta<0):e.detail&&t(e.detail<0)}}},{key:"updatePreviewCube",value:function(e){if(this.previewCube){if(this.previewCube.geometryMap||(this.previewCube.geometryMap={}),this.previewCubeType!==Object.keys(d.a)[this.currentCubeTypeIndex])if(this.previewCubeType=Object.keys(d.a)[this.currentCubeTypeIndex],this.previewCube.geometryMap[Object.keys(d.a)[this.currentCubeTypeIndex]])this.previewCube.geometry=this.previewCube.geometryMap[Object.keys(d.a)[this.currentCubeTypeIndex]];else{var t=new _.a(d.a[Object.keys(d.a)[this.currentCubeTypeIndex]])._geometry.clone();t.scale(.01,.01,.01),this.previewCube.geometry=t,this.previewCube.geometryMap[Object.keys(d.a)[this.currentCubeTypeIndex]]=t}this.previewCube.material=new _.a(d.a[Object.keys(d.a)[this.currentCubeTypeIndex]])._materials,this.previewCube.position.copy(this.camera.position),this.previewCubeRotation?this.previewCubeRotation.y+=Math.PI/180*60*e%Math.PI:this.previewCubeRotation={y:0},this.previewCube.rotation.copy(this.camera.rotation),this.previewCube.position.add(new c.D(0,-.065,-.2).applyAxisAngle(new c.D(0,0,1),this.camera.rotation.z).applyAxisAngle(new c.D(0,1,0),this.camera.rotation.y).applyAxisAngle(new c.D(1,0,0),this.camera.rotation.x)),this.previewCube.rotateY(Math.PI/4+this.previewCubeRotation.y)}else this.previewCube=new _.a(d.a[Object.keys(d.a)[this.currentCubeTypeIndex]]).buildCube(),this.scene.add(this.previewCube)}},{key:"updateCameraPosition",value:function(e){this.direction.z=Number(this.moveForward)-Number(this.moveBackward),this.direction.x=Number(this.moveRight)-Number(this.moveLeft),this.direction.normalize();var t=this.isRunning?this.personOption.speedRun:this.personOption.speedWalk;if(this.moveForward||this.moveBackward){var a=this.velocity.z+this.direction.z*t*this.personOption.accelerateRateStart;Math.abs(a)<t?this.velocity.z=a:this.velocity.z=this.direction.z*t}else this.velocity.z=Math.abs(this.velocity.z)>1?this.velocity.z*this.personOption.accelerateRateStop:0;var o=this.controls.getObject().position.x;if(this.controls.moveRight(this.velocity.x*e),this.moveLeft||this.moveRight){var i=this.velocity.x+this.direction.x*t*this.personOption.accelerateRateStart;Math.abs(i)<t?this.velocity.x=i:this.velocity.x=this.direction.x*t}else this.velocity.x=Math.abs(this.velocity.x)>1?this.velocity.x*this.personOption.accelerateRateStop:0;var n=this.controls.getObject().position.z;this.controls.moveForward(this.velocity.z*e);for(var s,r=[-(this.personOption.sightHeight-.05),-(this.personOption.sightHeight-this.personOption.height/2),this.personOption.height-this.personOption.sightHeight-.05,-(this.personOption.sightHeight-.5),this.personOption.height-this.personOption.sightHeight-.5],l=this.personOption.thickness/2,h=void 0,_=0;_<10;_++){void 0===this.checkRay.Z0[_]&&this.checkRay.Z0.push(new c.u(new c.D,new c.D(0,0,-1),0,0)),this.checkRay.Z0[_].ray.origin.copy(this.controls.getObject().position),this.checkRay.Z0[_].ray.origin.x=o,this.checkRay.Z0[_].ray.origin.x+=(_%2==0?1:-1)*l,this.checkRay.Z0[_].ray.origin.y+=r[Math.floor(_/2)];var d=this.checkRay.Z0[_].intersectObjects(this.objectsImpenetrable);d.length>0&&(s=d[0].point.z,h=Math.max(void 0===h?s:h,s))}for(var p,u=void 0,y=0;y<10;y++){void 0===this.checkRay.Z1[y]&&this.checkRay.Z1.push(new c.u(new c.D,new c.D(0,0,1),0,0)),this.checkRay.Z1[y].ray.origin.copy(this.controls.getObject().position),this.checkRay.Z1[y].ray.origin.x=o,this.checkRay.Z1[y].ray.origin.x+=(y%2==0?1:-1)*l,this.checkRay.Z1[y].ray.origin.y+=r[Math.floor(y/2)];var b=this.checkRay.Z1[y].intersectObjects(this.objectsImpenetrable);b.length>0&&(p=b[0].point.z,u=Math.min(void 0===u?p:u,p))}var g=this.controls.getObject().position.z;g=Math.min(void 0===u?g:u-this.personOption.thickness/2-.01,g),g=Math.max(void 0===h?g:h+this.personOption.thickness/2+.01,g),this.controls.getObject().position.z=g;for(var m,v=void 0,w=0;w<10;w++){void 0===this.checkRay.X0[w]&&this.checkRay.X0.push(new c.u(new c.D,new c.D(-1,0,0),0,0)),this.checkRay.X0[w].ray.origin.copy(this.controls.getObject().position),this.checkRay.X0[w].ray.origin.z=n,this.checkRay.X0[w].ray.origin.z+=(w%2==0?1:-1)*l,this.checkRay.X0[w].ray.origin.y+=r[Math.floor(w/2)];var f=this.checkRay.X0[w].intersectObjects(this.objectsImpenetrable);f.length>0&&(m=f[0].point.x,v=Math.max(void 0===v?m:v,m))}for(var k,x=void 0,R=0;R<10;R++){void 0===this.checkRay.X1[R]&&this.checkRay.X1.push(new c.u(new c.D,new c.D(1,0,0),0,0)),this.checkRay.X1[R].ray.origin.copy(this.controls.getObject().position),this.checkRay.X1[R].ray.origin.z=n,this.checkRay.X1[R].ray.origin.z+=(R%2==0?1:-1)*l,this.checkRay.X1[R].ray.origin.y+=r[Math.floor(R/2)];var C=this.checkRay.X1[R].intersectObjects(this.objectsImpenetrable);C.length>0&&(k=C[0].point.x,x=Math.min(void 0===x?k:x,k))}var O=this.controls.getObject().position.x;O=Math.max(void 0===v?O:v+this.personOption.thickness/2+.01,O),O=Math.min(void 0===x?O:x-this.personOption.thickness/2-.01,O),this.controls.getObject().position.x=O;var j=void 0;if(this.isFlying){this.velocity.y=0,this.direction.y=Number(this.moveUp)-Number(this.moveDown),this.direction.normalize();var z=this.isRunning?this.personOption.speedRun:this.personOption.speedWalk;if(this.moveUp||this.moveDown){var M=this.velocity.y+this.direction.y*z*this.personOption.accelerateRateStart;Math.abs(M)<z?this.velocity.y=M:this.velocity.y=this.direction.y*z}else this.velocity.y=Math.abs(this.velocity.y)>1?this.velocity.y*this.personOption.accelerateRateStop:0;j=this.controls.getObject().position.y+this.velocity.y*e*2}for(var I=void 0,T=0;T<5;T++)void 0===this.checkRay.Y0[T]&&this.checkRay.Y0.push(new c.u(new c.D,new c.D(0,-1,0),0,0)),this.checkRay.Y0[T].ray.origin.copy(this.controls.getObject().position);var A=this.personOption.thickness/2;this.checkRay.Y0[0].ray.origin.x+=A,this.checkRay.Y0[0].ray.origin.z-=A,this.checkRay.Y0[1].ray.origin.x+=A,this.checkRay.Y0[1].ray.origin.z+=A,this.checkRay.Y0[2].ray.origin.x-=A,this.checkRay.Y0[2].ray.origin.z+=A,this.checkRay.Y0[3].ray.origin.x-=A,this.checkRay.Y0[3].ray.origin.z-=A;for(var D=0;D<5;D++){var F=this.checkRay.Y0[D].intersectObjects(this.objectsImpenetrable);if(F.length>0){var S=F[0].point.y;I=Math.max(void 0===I?S:I,S)}}for(var E=void 0,Y=0;Y<5;Y++)void 0===this.checkRay.Y1[Y]&&this.checkRay.Y1.push(new c.u(new c.D,new c.D(0,1,0),0,0)),this.checkRay.Y1[Y].ray.origin.copy(this.controls.getObject().position);var H=this.personOption.thickness/2-.001;this.checkRay.Y1[0].ray.origin.x+=H,this.checkRay.Y1[0].ray.origin.z-=H,this.checkRay.Y1[1].ray.origin.x+=H,this.checkRay.Y1[1].ray.origin.z+=H,this.checkRay.Y1[2].ray.origin.x-=H,this.checkRay.Y1[2].ray.origin.z+=H,this.checkRay.Y1[3].ray.origin.x-=H,this.checkRay.Y1[3].ray.origin.z-=H;for(var X=0;X<5;X++){var Z=this.checkRay.Y1[X].intersectObjects(this.objectsImpenetrable);if(Z.length>0){var L=Z[0].point.y;E=Math.min(void 0===E?L:E,L)}}var W=this.isFlying?j:this.controls.getObject().position.y+this.velocity.y*e;void 0!==E&&W>E-(this.personOption.height-this.personOption.sightHeight)&&(W=E-(this.personOption.height-this.personOption.sightHeight),this.velocity.y=0),void 0!==I&&(W=Math.max(I+this.personOption.sightHeight,W))===I+this.personOption.sightHeight?(this.velocity.y=0,this.canJump=!0,this.isFlying=!1):this.velocity.y-=this.worldOption.g*Math.sqrt(e),this.controls.getObject().position.y=W,this.controls.getObject().position.y<-700&&(this.velocity.y=0,this.controls.getObject().position.y=700,this.controls.getObject().position.x=10,this.controls.getObject().position.z=11)}},{key:"removeCube",value:function(e){var t=this.objects.findIndex((function(t){return t.id===e.id}));t>=0&&this.objects.splice(t,1),this.scene.remove(this.scene.getObjectById(e.id)),this.selectObjectsImpenetrable()}},{key:"addCube",value:function(e){var t,a=e.face.normal,o=e.object.rotation,i=e.object.position,n=e.point,s=d.a[e.object.userData.cubeTypeKey].cubeAttributes&&d.a[e.object.userData.cubeTypeKey].cubeAttributes.geometryType===p.a.HalfCube,r=d.a[e.object.userData.cubeTypeKey].cubeAttributes&&d.a[e.object.userData.cubeTypeKey].cubeAttributes.geometryType===p.a.Flower1Cube,l=d.a[Object.keys(d.a)[this.currentCubeTypeIndex]].cubeAttributes&&d.a[Object.keys(d.a)[this.currentCubeTypeIndex]].cubeAttributes.geometryType===p.a.Flower1Cube,h=d.a[Object.keys(d.a)[this.currentCubeTypeIndex]].cubeAttributes&&d.a[Object.keys(d.a)[this.currentCubeTypeIndex]].cubeAttributes.geometryType===p.a.HalfCube,y=d.a[Object.keys(d.a)[this.currentCubeTypeIndex]].cubeAttributes&&d.a[Object.keys(d.a)[this.currentCubeTypeIndex]].cubeAttributes.geometryType===p.a.StairsCube,b=new c.D(a.x,a.y,a.z);if((b=(b=(b=b.applyAxisAngle(new c.D(0,0,1),o.z)).applyAxisAngle(new c.D(0,1,0),o.y)).applyAxisAngle(new c.D(1,0,0),o.x)).round(),r||!l||1===b.y){if(r)t=i;else{var g=b.y;s?h?0!==b.y&&(g=b.y/2):g=0!==b.y?(i.y>0?i.y%1==.25:i.y%1==-.75)?b.y*(b.y>0?3:5)/4:b.y*(b.y>0?5:3)/4:(i.y>0?i.y%1==.25:i.y%1==-.75)?-.25:.25:h&&(g=0!==b.y?3*b.y/4:(n.y>i.y?1:-1)/4),t={x:i.x+b.x,y:i.y+g,z:i.z+b.z};var m,v=void 0,w=u(this.objects);try{for(w.s();!(m=w.n()).done;){var f=m.value;Math.round(f.position.x)===Math.round(t.x)&&Math.round(f.position.y)===Math.round(t.y)&&Math.round(f.position.z)===Math.round(t.z)&&(v=f)}}catch(e){w.e(e)}finally{w.f()}if(v)if(v.userData.cubeAttributes.geometryType===p.a.Flower1Cube)this.removeCube(v);else if(!h)return}var k={x:0,y:0,z:0};if(!h){var x,R=this.camera.getWorldDirection(new c.D(1,0,0));(x=Math.abs(R.x)>=Math.abs(R.z)?new c.D(-R.x,0,0):new c.D(0,0,-R.z)).normalize().round(),Math.abs(R.y)>=.5&&(x.y=R.y>0?1:-1),1===x.x?k.y=0:-1===x.x?k.y=180:1===x.z?k.y=-90:-1===x.z&&(k.y=90),0!==x.y&&(k.z=x.y>0?-90:90),k.z+=90}y&&(k.z-=90);var C=new _.a(d.a[Object.keys(d.a)[this.currentCubeTypeIndex]]).buildCube(t.x,t.y,t.z,d.a[Object.keys(d.a)[this.currentCubeTypeIndex]],0,k.y,k.z);r&&this.removeCube(e.object),this.scene.add(C),this.objects.push(C),this.selectObjectsImpenetrable()}}},{key:"selectObjectsImpenetrable",value:function(){this.objectsImpenetrable=this.objects.filter((function(e){return!(e.userData&&e.userData.cubeAttributes&&e.userData.cubeAttributes.isPenetrable)}))}}]),e}();function g(e,t,a,o,i){var n;switch(e){case"ShowOrbitControl":var s=new l(a,o.domElement);s.initClickFunction(t.children),n=s.controls;break;case"MCFirstPersonControl":n=new b(a,o.domElement,i,t)}return n}a.d(t,"a",(function(){return g}))},eyis:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return c}));var o=a("Womt"),i=a("iMNg");function n(){var e=new o.a;return e.castShadow=!1,e.color=(new o.c).setHex(16777215),e.intensity=s(),e}function s(e,t,a){return Math.min(Math.max(a,e),t)}function r(){var e=new o.f;return e.castShadow=i.a.enableShadow,e.color=(new o.c).setHex(16777215),e.intensity=c(),e.shadow.radius=512,e.position.x=100,e.position.y=100,e.position.z=100,e}function c(e,t,a){return Math.min(Math.max(a,e),t)/4}},m6kI:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("Womt"),i=a("ca+A");function n(){var e=new o.w;return e.name="SCENE",e.fog=new o.k(8900331,.003),function(t){t=t||1;var a=(new o.e).load([i.a.test1,i.a.test2,i.a.test3,i.a.test4,i.a.test5,i.a.test6]);if(1===t)e.background=new o.c(8900331);else if(2===t)e.background=a;else{var n=o.x.cube;n.uniforms.tCube.value=a;var s=new o.y({fragmentShader:n.fragmentShader,vertexShader:n.vertexShader,uniforms:n.uniforms,depthWrite:!1,side:o.b}),r=new o.n(new o.d(1e6,1e6,1e6),s);e.add(r)}}(1),e}},qyvM:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("Womt"),i=a("iMNg");function n(){var e=new o.E;return e.name="RENDERER",e.shadowMap.enabled=i.a.enableShadow,e.setClearColor(16777215,1),e}},t4BE:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a("Womt");function i(){var e=new o.s;return e.name="CAMERA",e.fov=45,e.near=.1,e.far=1e3,e.position.x=10,e.position.y=21,e.position.z=11,e.lookAt(new o.D(0,22,2)),e}}}]);
//# sourceMappingURL=mc~52be75ec.8d4b76238d4c1c21ae5d.bundle.js.map